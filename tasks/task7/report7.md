# Отчет по заданию 7: Формирование кластеров

## Исходные АТД
- Анализ: `GameBoard`, `GameElement`, `Player`, `Match`, `Score`, `Bonus`, `GameSession`
- Проектирование: `GameStateManager`

## Кластеры

### 1) CoreBoard
- Состав: `GameBoard`, `GameElement`, `Match`
- Роль: хранение поля 8x8 и базовые операции работы с элементами и комбинациями.
- Границы: инкапсулирует структуру данных поля и координаты; предоставляет только необходимые запросы/команды.
- Зависимости: не зависит от других кластеров, является базовым API.

### 2) RulesAndScoring
- Состав: `Score`, `Bonus`
- Роль: правила подсчета очков и данные по бонусам.
- Границы: не изменяет поле напрямую; получает данные о найденных `Match` и возвращает начисления.
- Зависимости: читает результаты из `CoreBoard` (через DTO/переданные значения), без мутации состояния доски.

### 3) SessionAndState
- Состав: `GameSession`, `GameStateManager`
- Роль: жизненный цикл игры и машина состояний (инициализация, ход, каскады, завершение).
- Границы: координирует вызовы между кластерами; хранит текущее состояние игры.
- Зависимости: вызывает операции `CoreBoard`, запрашивает расчеты из `RulesAndScoring`.

### 4) PlayerIO
- Состав: `Player`
- Роль: источник намерений пользователя (перестановки), ведение истории ходов.
- Границы: не обращается к `CoreBoard` напрямую.
- Зависимости: взаимодействует только с `SessionAndState` через публичные методы.


## Соответствие спецификации
- Поддержаны: вывод/ввод, поиск совпадений, удаление, падение, начисление очков, бонусы, окончание игры при отсутствии ходов.
- Кластеры отражают разделение: доменная логика (`CoreBoard`, `RulesAndScoring`), управление (`SessionAndState`), I/O (`PlayerIO`).


